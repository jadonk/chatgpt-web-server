# Uses the official Playwright image (Node + browsers preinstalled)
FROM mcr.microsoft.com/playwright:v1.47.0-jammy

WORKDIR /work/demo

# Install only what the tests need; no node_modules checked in
COPY demo/package.json demo/package-lock.json* ./
RUN npm ci

# Bring in the tests/config
COPY demo/ .

# Default command runs the recording
CMD ["npx","playwright","test","--config=playwright.config.ts","--reporter=line"]
